{"componentChunkName":"component---src-templates-post-template-tsx","path":"/posts/i3wm-and-Arch-Linux","result":{"data":{"markdownRemark":{"id":"be3d0218-d307-541e-ab3c-da715db08f27","html":"<h2 id=\"概要\" style=\"position:relative;\"><a href=\"#%E6%A6%82%E8%A6%81\" aria-label=\"概要 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>概要</h2>\n<p>なんで i3wm という Window Manager を使うようになったかというと、ノート PC を Arch Linux+Gnome で使用していて以下のような気になる点があったからです。</p>\n<ul>\n<li>画面が小さいので、無駄なくウィンドウを整列させて使いたい</li>\n<li>タッチパッドでの操作がしにくいので、キーボードで基本的な操作を完結させたい</li>\n<li>Gnome は(比較的)重い(らしい)ので、軽いウィンドウマネージャを使いたい</li>\n</ul>\n<p>実際使ってみると軽いしキーボードで操作しやすいし、なんなら GUI じゃなくて CUI のアプリケーション使うようになったりといった変化もありました。</p>\n<p>ただ Arch Linux をインストールした上で Windows Manager を i3wm だけインストールすると、いろいろ設定したりパッケージをインストールしたりするのがね…面倒…</p>\n<p>Arch Linux のインストールは<a href=\"https://wiki.archlinux.jp/index.php/%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB%E3%82%AC%E3%82%A4%E3%83%89\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">ArchWiki: インストールガイド</a>のとおりにやりましたがここは省略。</p>\n<h2 id=\"i3wm-インストール\" style=\"position:relative;\"><a href=\"#i3wm-%E3%82%A4%E3%83%B3%E3%82%B9%E3%83%88%E3%83%BC%E3%83%AB\" aria-label=\"i3wm インストール permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>i3wm インストール</h2>\n<p><code class=\"language-text\">i3-wm</code>と<code class=\"language-text\">i3status</code>、<code class=\"language-text\">dmenu</code>(ランチャー)をインストールします。\n(<code class=\"language-text\">i3status</code>と<code class=\"language-text\">dmenu</code>は後で別のものに置き換えますが、設定しなくとも使えるのでまずはこれをインストールしておきます)\n初期設定で Mod キーをどこにするか聞かれますが、Windows の入っていた PC なら Win キーである Mod4 が無難だと思います。</p>\n<p>ディスプレイマネージャとして<code class=\"language-text\">LightDM</code>、あとはターミナルを何かインストールしておきます。</p>\n<p>ノート PC なら省電力用に<code class=\"language-text\">tlp</code>とかインストールしておくのもあり。</p>\n<h3 id=\"ネットワーク設定\" style=\"position:relative;\"><a href=\"#%E3%83%8D%E3%83%83%E3%83%88%E3%83%AF%E3%83%BC%E3%82%AF%E8%A8%AD%E5%AE%9A\" aria-label=\"ネットワーク設定 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ネットワーク設定</h3>\n<p>ネットワーク管理のためのパッケージをインストールします。(私は<code class=\"language-text\">NetworkManager</code>にしています)\n<code class=\"language-text\">NetworkManager.service</code>は<code class=\"language-text\">dhcpcd.service</code>と競合するので、<code class=\"language-text\">dhcpcd.service</code>を disable する必要があります。</p>\n<p>Bluetooth を使用するには<code class=\"language-text\">bluez</code>と<code class=\"language-text\">bluez-utils</code>を導入します。\n(PluseAudio を使用していて Bluetooth ヘッドホン使いたいなら<code class=\"language-text\">pulseaudio-bluetooth</code>もインストールする必要がありそうです)\nこのままでも CLI で接続設定することができますが(<a href=\"https://wiki.archlinux.jp/index.php/Bluetooth#CLI_.E3.81.AB.E3.82.88.E3.82.8B.E8.A8.AD.E5.AE.9A\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Bluetooth: CLI による設定</a>)、私は GUI で設定したいので<code class=\"language-text\">Blueman</code>をインストールしました。</p>\n<h3 id=\"fcitx\" style=\"position:relative;\"><a href=\"#fcitx\" aria-label=\"fcitx permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Fcitx</h3>\n<p>日本語入力するために Fcitx と Mozc をインストールします。\nあとは日本語フォントも適当に入れておきます。(Noto font とか ipafont とか)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\"><span class=\"token function\">sudo</span> pacman -S fcitx fcitx-mozc fcitx-im fcitx-configtool\n<span class=\"token function\">sudo</span> pacman -S otf-ipafont ttf-dejavu</code></pre></div>\n<p>設定</p>\n<p>~/.xintrc</p>\n<div class=\"gatsby-highlight\" data-language=\"sh\"><pre class=\"language-sh\"><code class=\"language-sh\">export DefaultImModule=fcitx\nexport GTK_IM_MODULE=fcitx\nexport QT_IM_MODULE=fcitx\nexport XMODIFIERS=&quot;@im=fcitx&quot;</code></pre></div>\n<p>fcitx を起動したら、fcitx-configtool から適当なキーボードと mozc を追加します。</p>\n<h2 id=\"i3-関連\" style=\"position:relative;\"><a href=\"#i3-%E9%96%A2%E9%80%A3\" aria-label=\"i3 関連 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>i3 関連</h2>\n<p>i3 は<code class=\"language-text\">~/.config/i3/config</code>に設定を記述することでカスタマイズが可能です。\nここで設定可能な項目は、だいたいキーバインドとアプリケーション設定がほとんどです。</p>\n<h3 id=\"キーバインド\" style=\"position:relative;\"><a href=\"#%E3%82%AD%E3%83%BC%E3%83%90%E3%82%A4%E3%83%B3%E3%83%89\" aria-label=\"キーバインド permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>キーバインド</h3>\n<p>ほとんどデフォルトのままですが、追加した設定をいくつか記述します\n3 つめのはマルチディスプレイのときにワークスペースを移動するためのものです。</p>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\"># Font for window titles. Will also be used by the bar unless a different font\n# is used in the bar {} block below.\n#font pango:monospace 8\nfont pango:Dejavu Sans,IPAGothic 10\n\n# Prior=Page up Next=Page Down\nbindsym $mod+Prior workspace prev\nbindsym $mod+Next workspace next\n\n#move workspace\nbindsym $mod+Shift+Prior move workspace to output up\nbindsym $mod+Shift+Next move workspace to output down</code></pre></div>\n<h3 id=\"ハードウェアキーの設定\" style=\"position:relative;\"><a href=\"#%E3%83%8F%E3%83%BC%E3%83%89%E3%82%A6%E3%82%A7%E3%82%A2%E3%82%AD%E3%83%BC%E3%81%AE%E8%A8%AD%E5%AE%9A\" aria-label=\"ハードウェアキーの設定 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>ハードウェアキーの設定</h3>\n<p>特殊キーの名前を調べるには<code class=\"language-text\">xorg-xev</code>パッケージの<code class=\"language-text\">xev</code>コマンドで可能です。</p>\n<h4 id=\"輝度\" style=\"position:relative;\"><a href=\"#%E8%BC%9D%E5%BA%A6\" aria-label=\"輝度 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>輝度</h4>\n<p><a href=\"https://wiki.archlinux.jp/index.php/%E3%83%90%E3%83%83%E3%82%AF%E3%83%A9%E3%82%A4%E3%83%88\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">バックライト(ArchWiki)</a>を参照。\n輝度の調整をキーに割り当てるには、<code class=\"language-text\">xorg-xbacklight</code>パッケージの<code class=\"language-text\">xbacklight</code>コマンドを使って config に書き込みます。</p>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\"># Screen brightness controls\nbindsym XF86MonBrightnessUp exec xbacklight -inc 10\nbindsym XF86MonBrightnessDown exec xbacklight -dec 10</code></pre></div>\n<h4 id=\"音量\" style=\"position:relative;\"><a href=\"#%E9%9F%B3%E9%87%8F\" aria-label=\"音量 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>音量</h4>\n<p>まず<code class=\"language-text\">pulseaudio</code>と設定ツールである<code class=\"language-text\">pavucontrol</code>をインストールします。\n<code class=\"language-text\">pluseaudio</code>のフロントエンドとしては<code class=\"language-text\">pamixer</code>などが存在します。(あとで使うのでインストールしておきました)\nあと flash の音を出すために<code class=\"language-text\">pulseaudio-alsa</code>が必要です。</p>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\"># Pulse Audio controls\nbindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%\nbindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%\nbindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle</code></pre></div>\n<h4 id=\"スクリーンショット\" style=\"position:relative;\"><a href=\"#%E3%82%B9%E3%82%AF%E3%83%AA%E3%83%BC%E3%83%B3%E3%82%B7%E3%83%A7%E3%83%83%E3%83%88\" aria-label=\"スクリーンショット permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>スクリーンショット</h4>\n<p>せっかくなのでスクリーンショットも PrtScr キーで動作させます。\nスクリーンショットには<code class=\"language-text\">imagemagick</code>パッケージを使用します。\n]\n~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\"># screenshot\nbindsym Print exec --no-startup-id import -window root ~/Pictures/screenshot`date &quot;+%y%m%d%H%M&quot;`.jpg</code></pre></div>\n<h3 id=\"その他\" style=\"position:relative;\"><a href=\"#%E3%81%9D%E3%81%AE%E4%BB%96\" aria-label=\"その他 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>その他</h3>\n<h4 id=\"壁紙\" style=\"position:relative;\"><a href=\"#%E5%A3%81%E7%B4%99\" aria-label=\"壁紙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>壁紙</h4>\n<p><code class=\"language-text\">feh</code>で設定します。(feh は軽量の画像ビューアです)</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">feh --bg-scale ~/Pictures/wallpaper.png</code></pre></div>\n<p>最後に設定した壁紙(とコマンド)を使用するのであれば</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">~/.fehbg</code></pre></div>\n<p>で大丈夫です。</p>\n<h4 id=\"外部モニタ\" style=\"position:relative;\"><a href=\"#%E5%A4%96%E9%83%A8%E3%83%A2%E3%83%8B%E3%82%BF\" aria-label=\"外部モニタ permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>外部モニタ</h4>\n<p>まず<code class=\"language-text\">xrandr</code>をインストールします。\nそして HDMI ポートや VGA ポートに接続された際に、自動的に画面を拡張するようなスクリプトを書いた上で、自動起動させておきます。(スクリプトはご自身の環境に合わせてください)</p>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\">exec --no-startup-id ~/.config/i3/script/monitor_detect.sh</code></pre></div>\n<p>~/.config/i3/script/monitor_detect.sh</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token shebang important\">#!/bin/bash</span>\n\n<span class=\"token comment\">#st_prev=$(cat /sys/class/drm/card0-HDMI-A-1/status)</span>\n<span class=\"token assign-left variable\">st_prev</span><span class=\"token operator\">=</span><span class=\"token string\">\"disconnected\"</span>\n\n<span class=\"token keyword\">while</span> <span class=\"token builtin class-name\">:</span>\n<span class=\"token keyword\">do</span>\n    <span class=\"token assign-left variable\">st_next</span><span class=\"token operator\">=</span><span class=\"token variable\"><span class=\"token variable\">$(</span><span class=\"token function\">cat</span> /sys/class/drm/card0-HDMI-A-1/status<span class=\"token variable\">)</span></span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$st_prev</span> <span class=\"token operator\">!=</span> <span class=\"token variable\">$st_next</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n        <span class=\"token assign-left variable\">st_prev</span><span class=\"token operator\">=</span><span class=\"token variable\">$st_next</span>\n        <span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span> <span class=\"token variable\">$st_next</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"connected\"</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n            xrandr --output eDP1 --mode 1600x900 --output HDMI1 --auto --above eDP1\n        <span class=\"token keyword\">else</span>\n            xrandr --output eDP1 --mode 1600x900 --output HDMI1 --off\n        <span class=\"token keyword\">fi</span>\n        ~/.fehbg\n    <span class=\"token keyword\">fi</span>\n    <span class=\"token function\">sleep</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">done</span></code></pre></div>\n<h4 id=\"蓋を閉じたときの動作\" style=\"position:relative;\"><a href=\"#%E8%93%8B%E3%82%92%E9%96%89%E3%81%98%E3%81%9F%E3%81%A8%E3%81%8D%E3%81%AE%E5%8B%95%E4%BD%9C\" aria-label=\"蓋を閉じたときの動作 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>蓋を閉じたときの動作</h4>\n<p>ノート PC なので、蓋を閉じたらサスペンドするように変更します。</p>\n<p>/etc/systemd/logind.conf</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\">HandleLidSwitch=suspend</code></pre></div>\n<h4 id=\"画面ロック\" style=\"position:relative;\"><a href=\"#%E7%94%BB%E9%9D%A2%E3%83%AD%E3%83%83%E3%82%AF\" aria-label=\"画面ロック permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>画面ロック</h4>\n<p><code class=\"language-text\">i3lock</code>が標準で推奨されているようですが、マルチモニタで壁紙がずれるので<code class=\"language-text\">light-locker</code>を使います。\nこれだと LightDM のログイン画面と同じになります。\n<code class=\"language-text\">light-locker</code>をサスペンドから起動した後に使用するには、</p>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\">exec --no-startup-id light-locker --lock-on-suspend</code></pre></div>\n<h3 id=\"dmenu-の代替\" style=\"position:relative;\"><a href=\"#dmenu-%E3%81%AE%E4%BB%A3%E6%9B%BF\" aria-label=\"dmenu の代替 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>dmenu の代替</h3>\n<p><code class=\"language-text\">rofi</code>が上位互換として使えます。\nこれについてはこちらのサイト(<a href=\"http://malkalech.com/rofi_window_switcher\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Jenemal Notes</a>)に詳しく説明されているので割愛します。</p>\n<h3 id=\"i3status-の代替\" style=\"position:relative;\"><a href=\"#i3status-%E3%81%AE%E4%BB%A3%E6%9B%BF\" aria-label=\"i3status の代替 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>i3status の代替</h3>\n<p>自作スクリプトを適用できたり、見た目をより柔軟に変えられるパッケージが存在します。\nシンプルながらある程度の拡張性がある<code class=\"language-text\">i3blocks</code>と、外観までかなり自由に変えることができる<code class=\"language-text\">polybar</code>があります。\n詳しい設定は省きますが、<code class=\"language-text\">i3blocks</code>も<code class=\"language-text\">polybar</code>も設定ファイルは GitHub に上げていますので良ければ。\n<code class=\"language-text\">polybar</code>に関しては<a href=\"https://tonooo71.github.io/post/180607_polybar_setting/\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">別記事</a>にも書いています。</p>\n<h3 id=\"config一部\" style=\"position:relative;\"><a href=\"#config%E4%B8%80%E9%83%A8\" aria-label=\"config一部 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>config(一部)</h3>\n<p>~/.config/i3/config</p>\n<div class=\"gatsby-highlight\" data-language=\"conf\"><pre class=\"language-conf\"><code class=\"language-conf\"># start a terminal\nbindsym $mod+Return exec termite\n\n# kill focused window\nbindsym $mod+Shift+q kill\n\n# start a program launcher\nbindsym $mod+d exec ~/.config/i3/script/rofi_launch.sh\n\n# switch to workspace\nbindsym $mod+Zenkaku_Hankaku exec --no-startup-id ~/.config/polybar/scripts/add_ws.py\nbindsym $mod+Prior workspace prev\nbindsym $mod+Next workspace next\n\n#move workspace\nbindsym $mod+Shift+Prior move workspace to output up\nbindsym $mod+Shift+Next move workspace to output down\n\n# restart i3 inplace (preserves your layout/session, can be used to upgrade i3)\nbindsym $mod+Shift+r exec --no-startup-id ~/.config/polybar/launch.sh restart\n\n# color\n# class                 border  backgr. text    indicator child_border\nclient.focused          #98c379 #98c379 #282c34 #98c379   #545862\nclient.focused_inactive #545862 #545862 #abb2bf #545862   #545862\nclient.unfocused        #545862 #545862 #abb2bf #545862   #545862\n\n# Pulse Audio controls\nbindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +5%\nbindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -5%\nbindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle\n\n# backlight\nbindsym XF86MonBrightnessUp exec xbacklight -inc 10\nbindsym XF86MonBrightnessDown exec xbacklight -dec 10\n\n# screenshot\nbindsym Print exec --no-startup-id import -window root ~/Pictures/screenshot`date &quot;+%y%m%d%H%M&quot;`.jpg\n\n# startup apps\nexec --no-startup-id xrandr --output eDP1 --mode 1600x900 --output HDMI1 --off\nexec --no-startup-id ~/.config/i3/script/monitor_detect.sh\nexec --no-startup-id ~/.fehbg\nexec --no-startup-id fcitx\nexec --no-startup-id ~/.config/polybar/launch.sh\nexec --no-startup-id light-locker --lock-on-suspend\nexec --no-startup-id xset s off -dpms\nexec --no-startup-id dropbox\n\n# application setting(float)\nfor_window [class=&quot;Lxappearance&quot;] floating enable, resize set 600 400\nfor_window [class=&quot;Pavucontrol&quot;] floating enable, resize set 600 400\nfor_window [class=&quot;Fcitx-config-gtk3&quot;] floating enable, resize set 600 400\nfor_window [class=&quot;mozc_tool&quot;] floating enable, resize set 600 400\nfor_window [class=&quot;Blueman-manager&quot;] floating enable, resize set 600 400\nfor_window [class=&quot;Gnome-terminal&quot;] floating enable move absolute position 990 px 470 px, resize set 600 400</code></pre></div>\n<p>最後の application setting(float)では、タイルではなく通常のウィンドウのような感じで表示させるアプリの指定ができます。\n基本的には設定ツールに適用しています。\n<code class=\"language-text\">lxappearance</code>は GTK+テーマやアイコン、ポインタを変更することができるツールです。\nアプリのクラス名を調べるためには<code class=\"language-text\">xorg-xprop</code>パッケージをインストールして、</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">xprop <span class=\"token operator\">|</span> <span class=\"token function\">grep</span> WM_CLASS</code></pre></div>\n<p>任意のアプリの画面をクリックすると</p>\n<div class=\"gatsby-highlight\" data-language=\"shell\"><pre class=\"language-shell\"><code class=\"language-shell\">WM_CLASS<span class=\"token punctuation\">(</span>STRING<span class=\"token punctuation\">)</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"urxvt\"</span>, <span class=\"token string\">\"URxvt\"</span></code></pre></div>\n<p>こんな感じで表示されます。</p>\n<h3 id=\"最後に\" style=\"position:relative;\"><a href=\"#%E6%9C%80%E5%BE%8C%E3%81%AB\" aria-label=\"最後に permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>最後に</h3>\n<p>本当に使いやすいです。\n基本的にキーボードで操作できるということもあって、同様にキーボードで操作できる CUI アプリケーションを使うようになりましたね。(<code class=\"language-text\">ranger</code>とか<code class=\"language-text\">neovim</code>とか<code class=\"language-text\">ncmpcpp</code>とか)\nメモリも起動時で 0.2~0.3GB 程度しか使用しておらずかなり軽量なのも良いです。</p>\n<h3 id=\"source\" style=\"position:relative;\"><a href=\"#source\" aria-label=\"source permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Source</h3>\n<p><a href=\"https://github.com/tonooo71/dotfiles\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">GitHub: tonooo71/dotfiles</a></p>\n<h3 id=\"qiita\" style=\"position:relative;\"><a href=\"#qiita\" aria-label=\"qiita permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Qiita</h3>\n<p><a href=\"https://qiita.com/Tonooo/items/256fcaffd7113b1ed018\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Qiita: i3+Arch Linux 初期環境構築まとめ</a></p>","fields":{"slug":"/posts/i3wm-and-Arch-Linux","tagSlugs":["/tag/i-3-wm/","/tag/linux/","/tag/arch-linux/"]},"frontmatter":{"date":"2018-08-04T17:40:07.370970","description":"Arch Linuxにタイル型ウィンドウマネージャi3wmを入れた時のセットアップまとめ","tags":["i3wm","Linux","Arch Linux"],"title":"i3wm + Arch Linux初期環境構築まとめ","socialImage":null}}},"pageContext":{"slug":"/posts/i3wm-and-Arch-Linux"}},"staticQueryHashes":["251939775","401334301","825871152"]}