{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018/181118_i3ipc-python/181118_i3ipc-python/","result":{"data":{"site":{"siteMetadata":{"title":"RINotes","siteUrl":"https://tonooo71.github.io"}},"markdownRemark":{"id":"c7cef3ab-2764-5ae0-90fe-ca30f8777c20","excerpt":"ウィンドウマネージャi3で新しくワークスペースを追加して表示するスクリプトをPythonとi3のPythonラッパーで書いていたのを、別のPythonラッパーで書き直した   もともと使っていたのはi3-pyというラッパーだったが、どうやら7年ほど更新が止まっていたので、割と更新されているi3ipc-python…","html":"<p>ウィンドウマネージャi3で新しくワークスペースを追加して表示するスクリプトをPythonとi3のPythonラッパーで書いていたのを、別のPythonラッパーで書き直した  </p>\n<p>もともと使っていたのはi3-pyというラッパーだったが、どうやら7年ほど更新が止まっていたので、割と更新されているi3ipc-pythonに置き換えることにした<br>\ni3-pyはArchのリポジトリにあったがi3ipc-pythonは無いのでpipでインストールする  </p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token comment\">#!/usr/bin/python</span>\n<span class=\"token keyword\">import</span> i3ipc\n\ni3 <span class=\"token operator\">=</span> i3ipc<span class=\"token punctuation\">.</span>Connection<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\nw_dict <span class=\"token operator\">=</span> <span class=\"token builtin\">sorted</span><span class=\"token punctuation\">(</span>i3<span class=\"token punctuation\">.</span>get_workspaces<span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> key<span class=\"token operator\">=</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\ni <span class=\"token operator\">=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">for</span> w <span class=\"token keyword\">in</span> w_dict<span class=\"token punctuation\">:</span>\n    <span class=\"token keyword\">if</span> i <span class=\"token operator\">!=</span> w<span class=\"token punctuation\">[</span><span class=\"token string\">'num'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">:</span>\n        i3<span class=\"token punctuation\">.</span>command<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'workspace </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span>\n        <span class=\"token keyword\">break</span>\n    i <span class=\"token operator\">+=</span> <span class=\"token number\">1</span>\n<span class=\"token keyword\">else</span><span class=\"token punctuation\">:</span>\n    i3<span class=\"token punctuation\">.</span>command<span class=\"token punctuation\">(</span><span class=\"token string-interpolation\"><span class=\"token string\">f'workspace </span><span class=\"token interpolation\"><span class=\"token punctuation\">{</span>i<span class=\"token punctuation\">}</span></span><span class=\"token string\">'</span></span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>i3ipc-pythonではi3のコマンドを直接呼び出せるのが便利<br>\nこれを<code class=\"language-text\">Mod+ZenkakuHankaku</code>に設定して使っている</p>","frontmatter":{"title":"i3ipc-pythonを使う","date":"November 18, 2018","description":"ウィンドウマネージャi3で新しくワークスペースを追加して表示するスクリプトをPythonとi3のPythonラッパーで書いていたのを、別のPythonラッパーで書き直した","tags":"Linux i3wm"}}},"pageContext":{"slug":"/2018/181118_i3ipc-python/181118_i3ipc-python/","previous":{"fields":{"slug":"/2018/180912_ejdict_for_qb/180912_ejdict_for_qb/"},"frontmatter":{"title":"qutebrowserで英和辞書を使う","tags":"Linux"}},"next":{"fields":{"slug":"/2020/200211_ipv4raspi/"},"frontmatter":{"title":"IPv6環境下でRaspberry pi 4をIPv4接続する","tags":"Raspi"}}}}}