{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018/180218_sync_gdrive/180218_sync_gdrive/","result":{"data":{"site":{"siteMetadata":{"title":"RINotes","siteUrl":"https://tonooo71.github.io"}},"markdownRemark":{"id":"900cbed7-3071-52dc-aab8-a1f5ff5c9c29","excerpt":"Google Driveとの同期クライアント、Dropboxとは違って公式でLinux版出してくれていないので\nサードパーティのを使うしかないのが手間がかかる。 今はCloudCross(1.4.1_rc3-1)を使っているけど、1回で全部同期できない(8~…","html":"<p>Google Driveとの同期クライアント、Dropboxとは違って公式でLinux版出してくれていないので\nサードパーティのを使うしかないのが手間がかかる。</p>\n<p>今はCloudCross(1.4.1_rc3-1)を使っているけど、1回で全部同期できない(8~9割ぐらいしか同期されない)のがちょっと微妙だったので、<a href=\"https://rclone.org/\">rclone</a>を使ってみることにする。</p>\n<h4>rcloneの初期設定</h4>\n<p>rcloneはArch Linuxのリポジトリにあったのでpacmanでダウンロード＆インストール。</p>\n<p>まずはストレージサービスごとに設定を行う。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ rclone config</code></pre></div>\n<p>すると、</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">No remotes found - make a new one\nn) New remote\ns) Set configuration password\nq) Quit config\nn/s/q&gt; n</code></pre></div>\n<p>となるので<code class=\"language-text\">n</code>を入力し、</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">name&gt; googledrive</code></pre></div>\n<p>で名前を設定する(識別名なので、何でもいい)。</p>\n<p>するとストレージサービス一覧が表示されるので選択する。</p>\n<p>ここからはGoogle Driveの場合を書く。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Google Application Client Id - leave blank normally.\nclient_id&gt; \nGoogle Application Client Secret - leave blank normally.\nclient_secret&gt; \nService Account Credentials JSON file path - needed only if you want use SA instead of interactive login.\nservice_account_file&gt; \nRemote config\nUse auto config?\n * Say Y if not sure\n * Say N if you are working on a remote or headless machine or Y didn&#39;t work\ny) Yes\nn) No\ny/n&gt; y</code></pre></div>\n<p>次に聞かれる3つは空欄でも問題ない(最後のはよくわからんけど)のでそのまま進み、“Use auto config”で<code class=\"language-text\">y</code>を押すとブラウザが立ち上がりアクセス権を取得しに行く。</p>\n<p>なのでCUI環境の場合は<code class=\"language-text\">n</code>を選択する必要がある、たぶん。</p>\n<p>最後に、</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">Configure this as a team drive?\ny) Yes\nn) No\ny/n&gt; n</code></pre></div>\n<p>と聞かれるので個人用のGoogle Driveなら<code class=\"language-text\">n</code>を選択すると終了。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">--------------------\n[googledrive]\nclient_id = \nclient_secret = \nservice_account_file = \ntoken = {&quot;access_token&quot;:&quot;nanntokakanntoka&quot;,&quot;token_type&quot;:&quot;Hoge&quot;,&quot;refresh_token&quot;:&quot;nannyakannya&quot;,&quot;expiry&quot;:&quot;2018-02-18T10:00:00.000000000+09:00&quot;}\n--------------------\ny) Yes this is OK\ne) Edit this remote\nd) Delete this remote\ny/e/d&gt; y</code></pre></div>\n<p>で設定終了。</p>\n<h4>同期する</h4>\n<p>rcloneにはいくつかコマンドがある(<a href=\"https://rclone.org/docs/#subcommands\">リンク</a>)が、まずGoogle Drive上のファイルをローカルに同期する。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">$ rclone sync googledrive: ./GoogleDrive</code></pre></div>\n<p>これで<code class=\"language-text\">googledrive</code>で登録したストレージサービスの全ファイルが<code class=\"language-text\">./GoogleDrive</code>に同期される。</p>\n<p>自分の使い方だと、今後編集するファイルはDropboxに、編集頻度の低いファイルをGoogle Driveに保存しているので、これ以外のコマンドを使う予定は今の所あまりない。</p>\n<p>CloudCrossと違ってちゃんと同期できているのかどうかは確認していないが、2回目以降の同期が比較的早く終了するのでできているような気がするけど…</p>","frontmatter":{"title":"Google Driveとの同期","date":"February 18, 2018","description":"Google Driveとの同期クライアント、Dropboxとは違って公式でLinux版出してくれていないので","tags":"Linux"}}},"pageContext":{"slug":"/2018/180218_sync_gdrive/180218_sync_gdrive/","previous":{"fields":{"slug":"/2018/180210_neovim_2/180210_neovim_2/"},"frontmatter":{"title":"Neovim(2)","tags":"Neovim"}},"next":{"fields":{"slug":"/2018/180410_wifi_mac/180410_wifi_mac/"},"frontmatter":{"title":"MACアドレスの偽装","tags":"Linux"}}}}}